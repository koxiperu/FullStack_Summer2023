const s=["jquery","ie8","ie9","ie10","ie11","modern"];function T(e,t){return e=[...e],e.sort((n,o)=>s.indexOf(o)-s.indexOf(n)),e=e.filter(n=>n!=="jquery"),t&&e.find(n=>s.indexOf(n)<=s.indexOf(t))||e[0]}function L(e){return e%2===0}function O(e,t=100){let n,o,r=!1,c=!1;return function(){n=this,o=arguments,r?c=!0:(e.apply(n,o),r=!0,window.setTimeout(function(){c&&e.apply(n,o),r=!1,c=!1,n=o=null},t))}}const i=document.createElement("a");i.href="https://twitter.com/adamfschwartz";i.textContent="@adamfschwartz";i.style.color="inherit";const a=document.createElement("a");a.href="https://twitter.com/zackbloom";a.textContent="@zackbloom";a.style.color="inherit";const S=document.querySelector("#credit-a"),b=document.querySelector("#credit-b");Math.random()>=.5?(S.replaceWith(i),b.replaceWith(a)):(S.replaceWith(a),b.replaceWith(i));const f=document.querySelector("#search"),q=document.querySelector("#comparisons"),C=document.querySelector("#ie-version-box"),m=document.querySelector("#ie-question"),d=document.querySelector("#ie-min-version");document.addEventListener("keydown",e=>{e.key==="/"&&f!==document.activeElement&&(e.preventDefault(),f.focus())});function I(){q.classList.remove("no-search-results");for(const e of document.querySelectorAll(".category.hidden, .comparison.hidden"))e.classList.remove("hidden");for(const[e,t]of document.querySelectorAll(".category").entries())t.classList.toggle("even",L(e))}f.addEventListener("input",e=>{const t=e.target.value.toLowerCase();if(I(),t.length===0)return;const n=document.querySelectorAll(".category");let o=0;for(const[r,c]of n.entries()){const g=c.querySelectorAll(".comparison");let y=0;for(const p of g)p.textContent.toLowerCase().includes(t)||(p.classList.add("hidden"),y++);y===g.length&&(c.classList.add("hidden"),o++),c.classList.toggle("even",L(r-o))}o===n.length&&q.classList.add("no-search-results")});function H(e){if(e){const t=new URLSearchParams(location.search);t.set("support",e),history.replaceState({},"","?"+t)}else history.replaceState({},"",location.pathname)}function u(e){H(e);for(const t of document.querySelectorAll("[data-engine].hidden"))t.classList.remove("hidden");for(const t of document.querySelectorAll(".engines")){const n=[...t.querySelectorAll("[data-engine=ie8], [data-engine=ie9], [data-engine=ie10], [data-engine=ie11], [data-engine=modern]")],o=T(n.map(r=>r.dataset.engine),e);for(const r of t.querySelectorAll(`.engine:not([data-engine=${o}]):not([data-engine=jquery])`))r.classList.add("hidden")}}function M(){return new URLSearchParams(location.search).get("support")}const l=M();l&&(l.includes("ie")&&(m.checked=!0,d.value=l.replace("ie",""),C.classList.remove("hidden")),u(l));m.addEventListener("change",()=>{const e=m.checked;C.classList.toggle("hidden",!e),e?u(`ie${d.value}`):u()});d.addEventListener("change",()=>{u(`ie${d.value}`)});function E(){let e=0,t;for(let n of document.querySelectorAll(".category-name")){const o=n.offsetTop;if(o!==0&&o>=window.scrollY){e=o,t=n.querySelector("a").href.split("#").pop();break}}for(let n of document.querySelectorAll(".comparison-title")){const o=n.offsetTop;if(o>e)break;if(o===0)continue;const r=o-window.scrollY;if(r>=0&&(!e||r<e-window.scrollY)){t=n.querySelector("a").href.split("#").pop();break}}return t}function A(e){const t=document.querySelector("#sidebar");if(t.querySelectorAll("a").forEach(n=>{(!e||n.href!==`#${e}`)&&n.classList.remove("active")}),e){const n=t.querySelector(`a[href='#${e}']`);n&&n.classList.add("active")}}window.addEventListener("scroll",O(()=>{const e=E();A(e)},100));const R=E();A(R);function z(e,t){try{const n=window.localStorage.getItem(e);return n==null?t:JSON.parse(n)}catch{return t}}function W(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch{}}const x=828,Y=document.querySelector("#sidebar"),h=document.querySelector("#sidebar-toggle"),k="sidebar-open",P=z(k,window.innerWidth>=x);h.checked=P;h.addEventListener("change",()=>{const e=h.checked;W(k,e)});Y.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{const t=document.querySelector("#sidebar-toggle");window.innerWidth<x&&(t.checked=!1)})});const j=new Intl.NumberFormat("en-US"),w=document.querySelector(".github-stars");async function _(){const e=await fetch("https://api.github.com/repos/HubSpot/youmightnotneedjquery");if(!e.ok)throw new Error("Failed to fetch GitHub stars");const{stargazers_count:t}=await e.json();return t}try{w.textContent=j.format(await _())}catch{w.textContent="10k+"}function v(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function $(e){if(!navigator.clipboard){v(e);return}navigator.clipboard.writeText(e).catch(()=>{v(e)})}const B=document.querySelectorAll(".copy-code");B.forEach(e=>{e.setAttribute("data-label",e.innerHTML),e.addEventListener("click",t=>{const n=t.target,o=n.nextElementSibling;if(o){$(o.textContent);const r=document.createRange();r.selectNode(o),getSelection().removeAllRanges(),getSelection().addRange(r),n.innerHTML="Copied!",setTimeout(()=>{n.innerHTML=n.getAttribute("data-label")},1e3)}else n.innerHTML="Failed to copy :(",setTimeout(()=>{n.innerHTML=n.getAttribute("data-label")},1e3)})});
